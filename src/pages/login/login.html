
<ion-header>
  <ion-navbar>
    <ion-title>Log in/Sign up</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-card>
  <ion-card-header fancy-text>Welcome to Stick Control Metronome!</ion-card-header>
  <ion-card-content>
    <ion-list [hidden]="invisibilityMap['Menu']">
      <ion-item>
        <button ion-button (click)="makeVisible('LogIn')" >Log In</button>
        <button ion-button (click)="makeVisible('CreateAccount')">Create Account</button>
        <button ion-button (click)="loginGuest()">Guest</button>
      </ion-item>
    </ion-list>
    <ion-list [hidden]="invisibilityMap['LogIn']">
      <ion-item>
        <ion-input (change)="onChange('old')" [(ngModel)]="email" type="email" value="" placeholder="Email"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input (change)="onChange('old')" [(ngModel)]="password"  type="password" value="" placeholder="Password"></ion-input>
      </ion-item>
      <ion-item>
        <button ion-button (click)="logIn()">Ok</button>
        <button ion-button (click)="makeVisible('Menu')">Cancel</button>
      </ion-item>
    </ion-list>
    <form [formGroup]="accountGroup" [hidden]="invisibilityMap['CreateAccount']">
      <ion-item>
        <ion-input  (change)="onChange('new')" formControlName="newUsername"  type="text" placeholder="User name"></ion-input>
      </ion-item>
      <ion-item color="danger" [hidden]="!newUserNameCtrl.hasError('error')">{{ newUserNameCtrl.get('error') }}</ion-item>
      <ion-item>
        <ion-input (change)="onChange('new')" formControlName"newEmail" type="email" placeholder="Email"></ion-input>
      </ion-item>
      <ion-item color="danger" [hidden]="!newUserNameCtrl.hasError('error')">{{ newEmailCtrl.get('error') }}</ion-item>
      <ion-item>
        <ion-input (change)="onChange('new')" formControlName="newPassword1"  type="password" placeholder="Password"></ion-input>
      </ion-item>
      <ion-item color="danger" [hidden]="!newUserNameCtrl.hasError('error')">{{ newPassword1Ctrl.get('error') }}</ion-item>
      <ion-item>
        <ion-input (change)="onChange('new')" formControlName="newPassword2"  type="password" placeholder="Re-enter password"></ion-input>
      </ion-item>
      <ion-item color="danger" [hidden]="!newUserNameCtrl.hasError('error')">{{ newPassword2Ctrl.get('error') }}</ion-item>
      <ion-item>
        <button ion-button (click)="createAccount()">Ok</button>
        <button ion-button (click)="makeVisible('Menu')">Cancel</button>
      </ion-item>
    </form>
    <ion-item color="danger" [hidden]="!errorMessage">{{ errorMessage }}</ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>
