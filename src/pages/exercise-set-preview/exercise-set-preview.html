<ion-header>
  <ion-navbar>
    <ion-title>Exercise Sets</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-item>
    <ion-select [(ngModel)]="selectedExerciseSetId"
      (ionChange)="onChange($event)" placeholder="Not Selected">
      <ion-option *ngFor="let set of exerciseSets.items" [value]="set.id">{{ set.name }}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-buttons>
      <button ion-button (click)="newExerciseSet($event)">New Exercise Set</button>
      <button ion-button (click)="newExercise($event)" [disabled]="selectedExerciseSetId">New Exercise</button>    
    </ion-buttons>
  </ion-item>
  <ion-card *ngFor="let exercise of exercises; let idx = index" [class.editing-background]="editIndex == idx">
    <ion-card-header>{{ exercise.name }}</ion-card-header>
    <ion-card-content #displayContainer [class.editing-border]="editIndex == idx" class="exercise-container">
      <exercise-display #exerciseDisplay></exercise-display>
    </ion-card-content>
    <ion-buttons [hidden]="editIndex == idx">
      <button ion-button (click)="editExercise(idx)" color="primary" small>
        <ion-icon name="open"></ion-icon>
      </button>
      <button ion-button (click)="deleteExercise(idx)" color="danger" small>
        <ion-icon name="trash"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons [hidden]="editIndex != idx">
      <button ion-button (click)="saveExerciseEditing(idx)" color="primary" small>
        <ion-icon name="open"></ion-icon>
      </button>
      <button ion-button (click)="cancelExerciseEditing(idx)" color="danger" small>
        <ion-icon name="trash"></ion-icon>
      </button>
    </ion-buttons>
</ion-card>
</ion-content>

<ion-footer [hidden]="exerciseEditor == null">
  <ion-toolbar>
    <ion-buttons left class="editor-buttons">
      <button ion-button outline>R</button>
      <button ion-button outline>L</button>
      <button ion-button outline>B</button>
      <button ion-button outline>-</button>
      <button ion-button outline>></button>
      <button ion-button outline>|</button>
      <button ion-button outline>/</button>
      <button ion-button outline></button>
      <button ion-button outline>G</button>
      <button ion-button outline (click)="exerciseEditor.back()"><ion-icon name="arrow-back"></ion-icon></button>
      <button ion-button outline (click)="exerciseEditor.forward()"><ion-icon name="arrow-forward"></ion-icon></button>
      <button ion-button outline><ion-icon name="backspace"></ion-icon></button>
      <button ion-button outline><ion-icon name="key"></ion-icon></button>
    </ion-buttons>
    <ion-buttons right>
      <button ion-button><ion-icon name="checkmark" color="primary"></ion-icon></button>
      <button ion-button><ion-icon name="trash" color="primary"></ion-icon></button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>